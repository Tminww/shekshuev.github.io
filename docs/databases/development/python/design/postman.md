# Основы работы в ПО Postman

В мире современной разработки программного обеспечения, взаимодействие между различными приложениями через интерфейсы приложений (API) стало неотъемлемой частью разработки. Однако, прежде чем мы можем строить сложные взаимодействия, необходимо убедиться, что наш API работает корректно и предоставляет ожидаемые результаты.

И вот на сцену выходит Postman - мощный и интуитивно понятный инструмент, предназначенный специально для тестирования и разработки API. Отправка HTTP-запросов, создание тестов, организация запросов в коллекции, работа с переменными - все это лишь часть функциональности Postman, которая облегчает процесс тестирования и повышает его эффективность.

**Основные возможности и полезные функции Postman**:

- Отправка HTTP-запросов: Postman позволяет легко создавать и отправлять различные типы HTTP-запросов, такие как `GET`, `POST`, `PUT`, `DELETE` и другие. Можно настраивать параметры запросов, передавать заголовки, параметры и тело запроса.

- Тестирование API: Postman позволяет создавать тесты для проверки ответов от сервера. Можно определить ожидаемые значения и условия, чтобы автоматически проверить, что API возвращает правильные результаты.

- Коллекции и среды: Postman позволяет организовывать запросы и тесты в коллекции, что упрощает управление большим числом запросов. Коллекции также можно использовать для автоматизации тестов или их запуска в определенной последовательности. Среды позволяют переключаться между различными конфигурациями окружения (например, тестовое, разработка, продакшн).

- Работа с переменными: Postman поддерживает использование переменных, что облегчает тестировщикам управление и переиспользование данных в запросах, тестах и окружениях.

Возможностей у инструмента еще очень много, но в целом, Postman - это удобная программа для тестирования и работы с интерфейсами приложений (API). Postman также помогает организовать и автоматизировать тесты.

## Коллекции

**Коллекция** в Postman — это группа API-запросов, объединённых по смыслу или проекту.

Например, в одну коллекцию можно поместить все запросы к вашему API:

- `GET /users`
- `POST /login`
- `DELETE /posts/:id`

**Зачем использовать коллекции:**

- Удобная организация запросов по папкам и проектам;
- Возможность запускать сразу несколько запросов (например, автотесты);
- Простота экспорта и обмена с командой.

---

## Окружения

**Окружение** в Postman — это набор переменных, которые можно переиспользовать в запросах.

Пример:

| Переменная   | Значение (Dev)          | Значение (Prod)         |
| ------------ | ----------------------- | ----------------------- |
| `base_url`   | `http://localhost:3000` | `https://api.myapp.com` |
| `auth_token` | `dev-abc123`            | `prod-xyz789`           |

Эти переменные можно использовать прямо в URL и заголовках:

```
{{base_url}}/api/users
Authorization: Bearer {{auth_token}}
```

Когда вы переключаете окружение, Postman автоматически подставляет нужные значения.

## Импорт окружения и коллекции

Скачайте окружение для Postman и коллекцию.

- <a target="_blank" href="/databases/gophertalk flavours.postman_collection.json">Коллекция GopherTalk Flavours</a>
- <a target="_blank" href="/databases/gophertalk flavours.postman_environment.json">Окружение GopherTalk Flavours</a>

Далее либо перетяните файлы в окно Postman, либо через пункт меню `File->Import` импортируйте окружение и коллекцию.

После импорта в боковом меню перейдите на вкладку Environments и выберите там gophertalk flavours. Там будет таблица с переменными:

![Postman Environment](./../../../assets/databases/postman-environment.png)

В переменной `api_url` указан URL-адрес нашего сервера `http://localhost:3000/api`. Переменные `access_token` и `refresh_token` нужны для хранения JWT токенов, которые выдаются после авторизации. К ним мы вернемся позже.

Перейдите на вкладку Collections. Раскройте коллекцию gophertalk flavours. В ней находятся три папки:

- `users` - эндпоинты для работы с пользователями
- `posts` - эндпоинты для работы с постами
- `auth` - эндпоинты авторизации

![Postman Collection](./../../../assets/databases/postman-collection.png)

Все эти эндпоинты вы реализуете позже. Сейчас нас интересует эндпоинт `health-check`. Кликните два раза по нему.

![Postman Health Check](./../../../assets/databases/postman-health-check.png)

Сверху зеленым цветом выделен метод HTTP - в данном случае `GET`. Справа от метода находится URL. Обратите внимание, что в нем используется переменная `api_url`, рассмотренная выше. Подставляя значение переменной, итоговый URL - `http://localhost:3000/api/health-check`. Это тот самый URL, который мы настроили в нашем приложении для проверки соединения с БД. Чтобы переменные работали, необходимо выбрать нужный Environment в правом верхнем углу, над кнопкой `Send`. В нашем случае это gophertalk flavours.

Убедитесь, что ваше приложение запущено, и нажмите `Send`. Результат отобразится ниже во окне `Response`.

![Postman Health Check Response](./../../../assets/databases/postman-health-check-response.png)

Под URL строкой в Postman присутсвуют вкладки:

- `params` - `GET` параметры URL запроса
- `Authorization` - параметры авторизации для запроса
- `Headers` - заголовки запроса
- `Body` - тело запроса
- `Scripts` - скрипты, которые можно выполнить как до, так и после запроса
- `Settings` - настройки

С некоторыми из этих вкладок мы будем работаь позже.

## Итог

Мы также познакомились с инструментом Postman, который незаменим при тестировании и отладке API.  
Вы узнали, как:

- отправлять HTTP-запросы различных типов;
- использовать коллекции и окружения для удобной работы;
- подключать переменные и подставлять их в запросы;
- проверять работоспособность API без написания frontend-кода.

Postman значительно ускоряет процесс разработки, особенно на ранних этапах, когда важна быстрая проверка маршрутов, авторизации и логики работы сервера.

---

> На следующем этапе мы начнём реализацию реальных эндпоинтов, работу с пользователями и авторизацией, постепенно превращая наш каркас в полноценное API.
